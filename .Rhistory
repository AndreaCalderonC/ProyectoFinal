# Chunk 4: summary
library(stargazer)
vars1 <- dataidx[, c(2:5)]
stargazer(vars1,title = "Medidas estadÃƒ­sticas", label = "stats",summary.stat = c("n", "median"))
# Chunk 5: corrDem
explanans=names(dataidx)[c(2:4)]
corrDem=cor(dataidx[,5],dataidx[,explanans],
use = "na.or.complete")
stargazer(corrDem, title="CorrelaciÃƒÂ³n de Democracia con las demÃƒÂ¡s variables",label = "corrDem")
# Chunk 6: corrTableX
corrTableX=round(cor(dataidx[explanans],
use = "na.or.complete"),2)
corrTableX_copy=corrTableX
# Hide upper triangle
corrTableX[upper.tri(corrTableX)]<-""
stargazer(corrTableX, title="CorrelaciÃƒÂ³n entre variables independientes",label = 'corrTableX')
# Chunk 7: corrPlotX
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
# Chunk 8: regresiones
LinRegA = lm(Democracy ~ ., data = dataidx[,c(3:5)])
LinRegB = lm(Democracy ~ ., data = dataidx[,c(2:5)])
# Chunk 9: regresionesPlot
stargazer(LinRegA,LinRegB,
title = "Modelos de RegresiÃƒÂ³n",
label = "regresiones")
# Chunk 10: getMap
library(rgdal)
folder='world_map'
file='world_map.shp'
mapaFile=file.path(folder,file)
colRegs <- rgdal::readOGR(mapaFile,stringsAsFactors=F)
colRegsIdx=merge(colRegs,dataidx, by.x='NAME', by.y='Country',all.x=F)
# Chunk 11
dimensions=c("NAME","EconomicFreedom","PressFreedom","Democracy")
library(cluster)
dataCluster=colRegsIdx@data[,c(dimensions)]
dataCluster[,-1]=lapply(dataCluster[,-1],as.ordered)
row.names(dataCluster)=dataCluster$NAME
dist=daisy(dataCluster[,-1],metric = "gower")
pam_fit <- pam(dist, diss = TRUE, k = 3)
clusters=as.data.frame(pam_fit$clustering)
clusters$NAME=row.names(clusters)
names(clusters)=c('cluster','NAME')
colRegsIdx=merge(colRegsIdx,clusters, by='NAME',all.x=F)
# Chunk 12: plotMap1
library(RColorBrewer)
library(classInt)
varToPLot=colRegsIdx$cluster
numberOfClasses = length(unique(varToPLot))
colorForScale='Set2'
paleta = brewer.pal(numberOfClasses, colorForScale)
plot(colRegs,col='grey',border=0)
plot(colRegsIdx, col = paleta[varToPLot],border=F,add=T)
legend('left', legend = c("MEDIUM","LOW","UP"), # third change
fill = paleta, # fourth change
cex = 0.6,
bty = "n",
title="conglomerado")
explanans=names(dataidx)[c(2:4)]
corrDem=cor(dataidx[,5],dataidx[,explanans],
use = "na.or.complete")
stargazer(corrDem, title="CorrelaciÃƒÂ³n de Democracia con las demÃƒÂ¡s variables",label = "corrDem")
explanans=names(dataidx)[c(2:4)]
corrDem=cor(dataidx[,5],dataidx[,explanans],
use = "na.or.complete")
# Chunk 1: getData
# carga de datos
filename="indexes.csv"
dataidx=read.csv(filename, stringsAsFactors = FALSE)
# previsiÃƒÂ³n:
level5=c("muy malo","malo","medio","bueno","muy bueno")
level4=c("muy malo","malo","bueno","muy bueno")
level3=c("muy malo","medio","muy bueno")
# Chunk 2
library(reporttools)
library(xtable)
titulo <- "Tablas de Frecuencia de la variables en estudio"
tableNominal(vars = dataidx[, c(2:5)],
cap = titulo, vertical = FALSE,
lab ="Tfrecuencias",
caption.placement = "top",
font.size = "normalsize",
add.to.row = list(pos = list(0),
command = "\\hline"))
# Chunk 3: barplots
par(mfrow=c(2,2))
demoTable=table(dataidx[,5])
names(demoTable)=level4
demoTableRel=round(prop.table(demoTable)*100,1)
title='Democracia'
paleta='red'
demoTableRelPlot=barplot(demoTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
###
ecoTable=table(dataidx[,3])
names(ecoTable)=level5
ecoTableRel=round(prop.table(ecoTable)*100,1)
title='Libertad EconÃƒÂ³mica'
paleta='red'
barplot(ecoTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
#####
worldTable=table(dataidx[,2])
names(worldTable)=level3
worldTableRel=round(prop.table(worldTable)*100,1)
title='Libertad en el Mundo'
paleta='red'
barplot(worldTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
####
pressTable=table(dataidx[,4])
names(pressTable)=level5
pressTableRel=round(prop.table(pressTable)*100,1)
title='Libertad de Prensa'
paleta='red'
barplot(pressTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%",las=2)
# Chunk 4: summary
library(stargazer)
vars1 <- dataidx[, c(2:5)]
stargazer(vars1,title = "Medidas estadÃƒ­sticas", label = "stats",summary.stat = c("n", "median"))
# Chunk 5: corrDem
explanans=names(dataidx)[c(2:4)]
corrDem=cor(dataidx[,5],dataidx[,explanans],
use = "na.or.complete")
stargazer(corrDem, title="CorrelaciÃƒÂ³n de Democracia con las demÃƒÂ¡s variables",label = "corrDem")
# Chunk 6: corrTableX
corrTableX=round(cor(dataidx[explanans],
use = "na.or.complete"),2)
corrTableX_copy=corrTableX
# Hide upper triangle
corrTableX[upper.tri(corrTableX)]<-""
stargazer(corrTableX, title="CorrelaciÃƒÂ³n entre variables independientes",label = 'corrTableX')
# Chunk 7: corrPlotX
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
# Chunk 8: regresiones
LinRegA = lm(Democracy ~ ., data = dataidx[,c(3:5)])
LinRegB = lm(Democracy ~ ., data = dataidx[,c(2:5)])
# Chunk 9: regresionesPlot
stargazer(LinRegA,LinRegB,
title = "Modelos de RegresiÃƒÂ³n",
label = "regresiones")
# Chunk 10: getMap
library(rgdal)
folder='world_map'
file='world_map.shp'
mapaFile=file.path(folder,file)
colRegs <- rgdal::readOGR(mapaFile,stringsAsFactors=F)
colRegsIdx=merge(colRegs,dataidx, by.x='NAME', by.y='Country',all.x=F)
# Chunk 11
dimensions=c("NAME","EconomicFreedom","PressFreedom","Democracy")
library(cluster)
dataCluster=colRegsIdx@data[,c(dimensions)]
dataCluster[,-1]=lapply(dataCluster[,-1],as.ordered)
row.names(dataCluster)=dataCluster$NAME
dist=daisy(dataCluster[,-1],metric = "gower")
pam_fit <- pam(dist, diss = TRUE, k = 3)
clusters=as.data.frame(pam_fit$clustering)
clusters$NAME=row.names(clusters)
names(clusters)=c('cluster','NAME')
colRegsIdx=merge(colRegsIdx,clusters, by='NAME',all.x=F)
# Chunk 12: plotMap1
library(RColorBrewer)
library(classInt)
varToPLot=colRegsIdx$cluster
numberOfClasses = length(unique(varToPLot))
colorForScale='Set2'
paleta = brewer.pal(numberOfClasses, colorForScale)
plot(colRegs,col='grey',border=0)
plot(colRegsIdx, col = paleta[varToPLot],border=F,add=T)
legend('left', legend = c("MEDIUM","LOW","UP"), # third change
fill = paleta, # fourth change
cex = 0.6,
bty = "n",
title="conglomerado")
# carga de datos
filename="indexes.csv"
dataidx=read.csv(filename, stringsAsFactors = FALSE)
# previsiÃƒÂ³n:
level5=c("muy malo","malo","medio","bueno","muy bueno")
level4=c("muy malo","malo","bueno","muy bueno")
level3=c("muy malo","medio","muy bueno")
# Chunk 1: getData
# carga de datos
filename="indexes.csv"
dataidx=read.csv(filename, stringsAsFactors = FALSE)
# previsiÃƒÂ³n:
level5=c("muy malo","malo","medio","bueno","muy bueno")
level4=c("muy malo","malo","bueno","muy bueno")
level3=c("muy malo","medio","muy bueno")
# Chunk 2
library(reporttools)
library(xtable)
titulo <- "Tablas de Frecuencia de la variables en estudio"
tableNominal(vars = dataidx[, c(2:5)],
cap = titulo, vertical = FALSE,
lab ="Tfrecuencias",
caption.placement = "top",
font.size = "normalsize",
add.to.row = list(pos = list(0),
command = "\\hline"))
# Chunk 3: barplots
par(mfrow=c(2,2))
demoTable=table(dataidx[,5])
names(demoTable)=level4
demoTableRel=round(prop.table(demoTable)*100,1)
title='Democracia'
paleta='red'
demoTableRelPlot=barplot(demoTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
###
ecoTable=table(dataidx[,3])
names(ecoTable)=level5
ecoTableRel=round(prop.table(ecoTable)*100,1)
title='Libertad EconÃƒÂ³mica'
paleta='red'
barplot(ecoTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
#####
worldTable=table(dataidx[,2])
names(worldTable)=level3
worldTableRel=round(prop.table(worldTable)*100,1)
title='Libertad en el Mundo'
paleta='red'
barplot(worldTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
####
pressTable=table(dataidx[,4])
names(pressTable)=level5
pressTableRel=round(prop.table(pressTable)*100,1)
title='Libertad de Prensa'
paleta='red'
barplot(pressTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%",las=2)
# Chunk 4: summary
library(stargazer)
vars1 <- dataidx[, c(2:5)]
stargazer(vars1,title = "Medidas estadÃƒ­sticas", label = "stats",summary.stat = c("n", "median"))
# Chunk 5: corrDem
explanans=names(dataidx)[c(2:4)]
corrDem=cor(dataidx[,5],dataidx[,explanans],
use = "na.or.complete")
stargazer(corrDem, title="CorrelaciÃƒÂ³n de Democracia con las demÃƒÂ¡s variables",label = "corrDem")
# Chunk 6: corrTableX
corrTableX=round(cor(dataidx[explanans],
use = "na.or.complete"),2)
corrTableX_copy=corrTableX
# Hide upper triangle
corrTableX[upper.tri(corrTableX)]<-""
stargazer(corrTableX, title="CorrelaciÃƒÂ³n entre variables independientes",label = 'corrTableX')
# Chunk 7: corrPlotX
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
# Chunk 8: regresiones
LinRegA = lm(Democracy ~ ., data = dataidx[,c(3:5)])
LinRegB = lm(Democracy ~ ., data = dataidx[,c(2:5)])
# Chunk 9: regresionesPlot
stargazer(LinRegA,LinRegB,
title = "Modelos de RegresiÃƒÂ³n",
label = "regresiones")
# Chunk 10: getMap
library(rgdal)
folder='world_map'
file='world_map.shp'
mapaFile=file.path(folder,file)
colRegs <- rgdal::readOGR(mapaFile,stringsAsFactors=F)
colRegsIdx=merge(colRegs,dataidx, by.x='NAME', by.y='Country',all.x=F)
# Chunk 11
dimensions=c("NAME","EconomicFreedom","PressFreedom","Democracy")
library(cluster)
dataCluster=colRegsIdx@data[,c(dimensions)]
dataCluster[,-1]=lapply(dataCluster[,-1],as.ordered)
row.names(dataCluster)=dataCluster$NAME
dist=daisy(dataCluster[,-1],metric = "gower")
pam_fit <- pam(dist, diss = TRUE, k = 3)
clusters=as.data.frame(pam_fit$clustering)
clusters$NAME=row.names(clusters)
names(clusters)=c('cluster','NAME')
colRegsIdx=merge(colRegsIdx,clusters, by='NAME',all.x=F)
# Chunk 12: plotMap1
library(RColorBrewer)
library(classInt)
varToPLot=colRegsIdx$cluster
numberOfClasses = length(unique(varToPLot))
colorForScale='Set2'
paleta = brewer.pal(numberOfClasses, colorForScale)
plot(colRegs,col='grey',border=0)
plot(colRegsIdx, col = paleta[varToPLot],border=F,add=T)
legend('left', legend = c("MEDIUM","LOW","UP"), # third change
fill = paleta, # fourth change
cex = 0.6,
bty = "n",
title="conglomerado")
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
corrTableX[upper.tri(corrTableX)]<-""
stargazer(corrTableX, title="CorrelaciÃƒÂ³n entre variables independientes",label = 'corrTableX')
stargazer(corrTableX, title="CorrelaciÃƒÂ³n entre variables independientes",label = 'corrTableX')
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
# Chunk 1: getData
# carga de datos
filename="indexes.csv"
dataidx=read.csv(filename, stringsAsFactors = FALSE)
# previsiÃƒÂ³n:
level5=c("muy malo","malo","medio","bueno","muy bueno")
level4=c("muy malo","malo","bueno","muy bueno")
level3=c("muy malo","medio","muy bueno")
# Chunk 2
library(reporttools)
library(xtable)
titulo <- "Tablas de Frecuencia de la variables en estudio"
tableNominal(vars = dataidx[, c(2:5)],
cap = titulo, vertical = FALSE,
lab ="Tfrecuencias",
caption.placement = "top",
font.size = "normalsize",
add.to.row = list(pos = list(0),
command = "\\hline"))
# Chunk 3: barplots
par(mfrow=c(2,2))
demoTable=table(dataidx[,5])
names(demoTable)=level4
demoTableRel=round(prop.table(demoTable)*100,1)
title='Democracia'
paleta='red'
demoTableRelPlot=barplot(demoTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
###
ecoTable=table(dataidx[,3])
names(ecoTable)=level5
ecoTableRel=round(prop.table(ecoTable)*100,1)
title='Libertad EconÃƒÂ³mica'
paleta='red'
barplot(ecoTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
#####
worldTable=table(dataidx[,2])
names(worldTable)=level3
worldTableRel=round(prop.table(worldTable)*100,1)
title='Libertad en el Mundo'
paleta='red'
barplot(worldTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%")
####
pressTable=table(dataidx[,4])
names(pressTable)=level5
pressTableRel=round(prop.table(pressTable)*100,1)
title='Libertad de Prensa'
paleta='red'
barplot(pressTableRel,main=title,
col=paleta,ylim = c(0,100),
ylab = "%",las=2)
# Chunk 4: summary
library(stargazer)
vars1 <- dataidx[, c(2:5)]
stargazer(vars1,title = "Medidas estadÃƒ­sticas", label = "stats",summary.stat = c("n", "median"))
# Chunk 5: corrDem
explanans=names(dataidx)[c(2:4)]
corrDem=cor(dataidx[,5],dataidx[,explanans],
use = "na.or.complete")
stargazer(corrDem, title="CorrelaciÃƒÂ³n de Democracia con las demÃƒÂ¡s variables",label = "corrDem")
# Chunk 6: corrTableX
corrTableX=round(cor(dataidx[explanans],
use = "na.or.complete"),2)
corrTableX_copy=corrTableX
# Hide upper triangle
corrTableX[upper.tri(corrTableX)]<-""
stargazer(corrTableX, title="CorrelaciÃƒÂ³n entre variables independientes",label = 'corrTableX')
# Chunk 7: corrPlotX
library(corrplot)
corrplot(corrTableX_copy, type = "lower", diag = F,
addCoef.col = "black")
# Chunk 8: regresiones
LinRegA = lm(Democracy ~ ., data = dataidx[,c(3:5)])
LinRegB = lm(Democracy ~ ., data = dataidx[,c(2:5)])
# Chunk 9: regresionesPlot
stargazer(LinRegA,LinRegB,
title = "Modelos de RegresiÃƒÂ³n",
label = "regresiones")
# Chunk 10: getMap
library(rgdal)
folder='world_map'
file='world_map.shp'
mapaFile=file.path(folder,file)
colRegs <- rgdal::readOGR(mapaFile,stringsAsFactors=F)
colRegsIdx=merge(colRegs,dataidx, by.x='NAME', by.y='Country',all.x=F)
# Chunk 11
dimensions=c("NAME","EconomicFreedom","PressFreedom","Democracy")
library(cluster)
dataCluster=colRegsIdx@data[,c(dimensions)]
dataCluster[,-1]=lapply(dataCluster[,-1],as.ordered)
row.names(dataCluster)=dataCluster$NAME
dist=daisy(dataCluster[,-1],metric = "gower")
pam_fit <- pam(dist, diss = TRUE, k = 3)
clusters=as.data.frame(pam_fit$clustering)
clusters$NAME=row.names(clusters)
names(clusters)=c('cluster','NAME')
colRegsIdx=merge(colRegsIdx,clusters, by='NAME',all.x=F)
# Chunk 12: plotMap1
library(RColorBrewer)
library(classInt)
varToPLot=colRegsIdx$cluster
numberOfClasses = length(unique(varToPLot))
colorForScale='Set2'
paleta = brewer.pal(numberOfClasses, colorForScale)
plot(colRegs,col='grey',border=0)
plot(colRegsIdx, col = paleta[varToPLot],border=F,add=T)
legend('left', legend = c("MEDIUM","LOW","UP"), # third change
fill = paleta, # fourth change
cex = 0.6,
bty = "n",
title="conglomerado")
# Chunk 1: getData
# Cargar archivo ----
# NO OLVIDAR set working directory
filename="colombia.csv"
colb=read.csv(filename, stringsAsFactors = FALSE)
colb$cabeLog=log(colb$Poblacion.Cabecera)
colb$restoLog=log(colb$Poblacion.Resto)
# que variables y tipo
#str(colb)
# Chunk 2: regresiones
# Veamos los modelos propuestos.
# Primero sin poblacion resto, luego con esa:
LinRegA = lm(IDH ~ ., data = colb[,c(1,7)])
LinRegB = lm(IDH ~ ., data = colb[,c(1,7:8)])
# Chunk 3: regresionesPlot
library(stargazer)
stargazer(LinRegA,LinRegB,
title = "Modelos de RegresiÃ³n",
label = "regresiones")
# Chunk 1: getData
# Cargar archivo ----
# NO OLVIDAR set working directory
filename="colombia.csv"
colb=read.csv(filename, stringsAsFactors = FALSE)
# que variables y tipo
#str(colb)
# Chunk 2: summary
library(stargazer)
stargazer(colb, title = "Medidas estadÃ­sticas", label = "stats",summary.stat = c( "mean","median","sd","min","max"))
# Chunk 3: hist
par(mfrow=c(2,2))
demoTable=table(colb[,1])
demoTableRel=round(prop.table(demoTable)*100,1)
title='IDH'
paleta='red'
hist(colb$IDH,col=paleta, main = "IDH", xlab="Valores", ylab="Frecuencia")
hist(colb$Poblacion.Cabecera,col=paleta, main = "Poblacion Cabecera", xlab="Valores", ylab="Frecuencia")
hist(colb$Poblacion.Resto,col=paleta, main = "Poblacion del Resto", xlab="Valores", ylab="Frecuencia")
# Chunk 4: hist1
par(mfrow=c(1,2))
paleta='blue'
# dado el sesgo de las pobaciones,
# podriamos transformarla para que se acerque a la
# normalidad
colb$cabeLog=log(colb$Poblacion.Cabecera)
colb$restoLog=log(colb$Poblacion.Resto)
hist(colb$cabeLog,col=paleta, main = "Poblacion Cabecera", xlab="Valores Normalizados", ylab="Frecuencia")
hist(colb$restoLog,col=paleta, main = "Poblacion del Resto", xlab="Valores Normalizados", ylab="Frecuencia")
library(stargazer)
stargazer(colb, title = "Medidas estadÃ­sticas", label = "stats",summary.stat = c( "mean","median","sd","min","max"))
par(mfrow=c(2,2))
demoTable=table(colb[,1])
demoTableRel=round(prop.table(demoTable)*100,1)
title='IDH'
paleta='red'
hist(colb$IDH,col=paleta, main = "IDH", xlab="Valores", ylab="Frecuencia")
hist(colb$Poblacion.Cabecera,col=paleta, main = "Poblacion Cabecera", xlab="Valores", ylab="Frecuencia")
hist(colb$Poblacion.Resto,col=paleta, main = "Poblacion del Resto", xlab="Valores", ylab="Frecuencia")
# Chunk 1: getData
# Cargar archivo ----
# NO OLVIDAR set working directory
filename="colombia.csv"
colb=read.csv(filename, stringsAsFactors = FALSE)
# que variables y tipo
#str(colb)
# Chunk 2: summary
library(stargazer)
stargazer(colb, title = "Medidas estadÃ­sticas", label = "stats",summary.stat = c( "mean","median","sd","min","max"))
# Chunk 3: hist1
par(mfrow=c(1,2))
paleta='blue'
# dado el sesgo de las pobaciones,
# podriamos transformarla para que se acerque a la
# normalidad
colb$cabeLog=log(colb$Poblacion.Cabecera)
colb$restoLog=log(colb$Poblacion.Resto)
hist(colb$cabeLog,col=paleta, main = "Poblacion Cabecera", xlab="Valores Normalizados", ylab="Frecuencia")
hist(colb$restoLog,col=paleta, main = "Poblacion del Resto", xlab="Valores Normalizados", ylab="Frecuencia")
